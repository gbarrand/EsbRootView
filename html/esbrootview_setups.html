<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>&lt;h2&gt;The &quot;setups&quot;&lt;/h2&gt;</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><h2>The "setups"</h2>
</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>By default the program is not tied to a particular detector layout.</p>
<p>When starting the program, you have to go in the top "setups" item in the gui main panel to choose for a particular detector setup. There are four setups:neard, fard, fgd, fgd_hit. When choosing one, three dedicated scripts are copied from the "resource" directory (the "res" dir) of the distribution/installation into your application documents directory (your "doc" dir). For desktops, your application documents directory is under (see also "softinex/Apps and data files"): </p><pre class="fragment">    Linux, macOS, Windows-10/CYGWIN, Windows-10/WSL: ~/Documents/EsbRootView
    Windows-10/DOS: C:\Users\&lt;your account name&gt;\Documents\EsbRootView
</pre><p> On Windows, you can have two packings/builds: the vc++/win32 one that must be started from a DOS prompt (or with the mouse) and that has the upper Windows/DOS documents directory, but also a g++/X11 one built from a CYGWIN environment that must be run from a CYGWIN prompt and that has the upper Windows/CYGWIN document directory (which is not the same as the Windows/DOS one!). Note that if the document directory does not exist, the application will (attempt to) create it.</p>
<p>When choosing a setup, for example neard, four files are copied from the resource directory to your doc dir: </p><pre class="fragment">    res_dir/init.insh          =&gt; doc_dir/init.insh
    res_dir/neard_startup.insh =&gt; doc_dir/startup.insh
    res_dir/neard_event.insh   =&gt; doc_dir/event.insh
    res_dir/neard_anim.insh    =&gt; doc_dir/anim.insh
</pre><p> After having done theses copies, EsbRootView executes the init.insh and startup.insh scripts. In them there are instructions to load a dedicated geometry (root) file found in the res dir, create a scene graph of the detector deposited in the "static scene graph", do a camera setup adapted to the detector layout, load an avatar ("sarah") to give a hint of the scale of the scene and switch from GUI mode to the scene mode. With the neard startup.insh script, you should see: </p><div class="image">
<img src="neard_startup.png" alt=""/>
</div>
<p>When doing a "next event", the event.insh script is executed. The default script for neard does a "MCTrack_vis -color=cornflowerblue" to create a scene graph representing the MCTracks in red, a scene graph deposited under the "dynamic scene graph". It does also a "WCDetectorPoint_vis -color=green" to visualize the WC detector points and also an "WCDetectorPoint_plot -modeling=detector" to have the "2D detector plot" of the event in the upper right corner of the scene view. On the first event, you should see: </p><div class="image">
<img src="neard_event.png" alt=""/>
</div>
<p>For the other setups, the same logic applies; copy dedicated "init,startup,event,anim" .insh scripts in your app doc dir, execute the init.insh and startup.insh and the event.insh at "next event".</p>
<p>As explained in the "softinex/Apps general behaviour" section, a "next event" can be triggered from the next event item in the main GUI panel, or from the next event button at the left in the camera menu panel (the one with blue "tracks" going out of a "vertex"). (See also MEMPHYS_vis or pmx demos on YouTube for that).</p>
<p>Note that as your doc dir is going to be a place for customization, it is advised to have a local git (or something) repository here to handle your init, startup, event and anim insh scripts. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->

</body>
</html>
